version: "3.9"

services:
  flask:
    build: ./flask-backend
    ports:
      - "5000:5000"
    depends_on:
      - django

  django:
    build: ./django-backend
    ports:
      - "8000:8000"

  rasa:
    image: rasa/rasa:latest
    volumes:
      - ./rasa:/app
    ports:
      - "5005:5005"
    command: >
      run --enable-api --cors "*"

  db:
    image: postgres:15
    environment:
      POSTGRES_DB: appdb
      POSTGRES_USER: appuser
      POSTGRES_PASSWORD: secret
